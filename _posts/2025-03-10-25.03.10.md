---
title: Components
date: 2025-03-10 21:00:00 +0900
categories: [TIL]
tags: [react, til]
---

# 2025-03-10 TIL

## 스프린트 목표
QA 작업 마무리, 종료시점 배포
목표를 보니 놀 시간이 없겠는데..

## 유튜브 PIP 구현

웹상에서 PIP 처럼 동작하게 만들 수 있을까 찾아보고 있다.

youtube 영상을 끌어와서 사용할 때 dom 내에서 위치를 옮기면 반드시 다시 mount 되면서 영상이 초기화된다.
useMemo 이런건 어림도 없다
다행히 style 변경에는 문제가 없다.
따라서 style 변경으로 모든 동작을 커버해야한다.

한정적이지만 static 으로 박아두다가, PIP로 바꾸면 fixed로 style을 변경하는 방법이 제일 쉽다.
유튜브나 다른 웹 pip 사용하는 신문들이 이렇게 하는 것 같다.

sticky하게 하고 싶다거나 영상 크기를 조절하고 싶다거나 하는 것들은 모두 style 변경으로 해결해야한다.
결국은 fixed로 두고, 넣고 싶은 부모를 Id 로 찾아서 그 부모안에 크기를 맞춰서 넣었다.
더 좋은 방법을 찾고 말테다.

## 공통 컴포넌트 구현

어쩌다보니 공통 컴포넌트가 여러 개 있어서 다시 하나로 합쳐야 했다.
공통 컴포넌트를 다시 작업하는 김에 문서화도 같이 하면 좋겠다 싶어 찾아보던 중
[UI-Playbook](https://github.com/raunofreiberg/ui-playbook) 이라는 라이브러리를 발견했다.

문서화 툴인데 예시 공통 컴포넌트 구현이 미니멀하니 좋아서 이거 바탕으로 만들고 있다;;

## 공통 컴포넌트 문서화

컴포넌트 문서화 라이브러리도 여럿이 있는데 Storybook이 제일 좋은 것 같다.
고민될 때는 npm trends 에서 그래프 한번 찾아보면 된다.

## 테스트 라이브러리

컴포넌트 문서화를 알아보다가 코드 문서화를 좀 알아봤는데, 역시 제일 좋은건 테스트 코드를 통한 문서화인 것 같다.
Jest 와 React Testing Library 를 사용해서 적당히 테스트코드를 작성하면 되는데,
괜한 헛수고 코드가 생길 위험도 있고 그걸 또 유지보수하는 건 재앙일 것 같아 조심스럽게 접근하고 있다.
빌드할 때 테스트도 돌리면서 커버리지를 보는 재미가 있을 거라
필요한 비즈니스 로직이 있으면 몇개씩 넣을 거다.

## UI QA

QA 대부분 해소했는데 디자인에서 변경 사항이 생긴 것도 있고, 몇가지 버그도 있어서 수정했다.
디자인 영역은 절대 TDD를 적용하지 말자.
